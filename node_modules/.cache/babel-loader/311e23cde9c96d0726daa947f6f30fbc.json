{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _core = require(\"@buffetjs/core\");\n\nvar _icons = require(\"@buffetjs/icons\");\n\nvar _pluginId = _interopRequireDefault(require(\"../../pluginId\"));\n\nvar _useListView2 = _interopRequireDefault(require(\"../../hooks/useListView\"));\n\nvar _useDataManager2 = _interopRequireDefault(require(\"../../hooks/useDataManager\"));\n\nvar _DynamicZoneList = _interopRequireDefault(require(\"../DynamicZoneList\"));\n\nvar _ComponentList = _interopRequireDefault(require(\"../ComponentList\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nfunction List(_ref) {\n  var className = _ref.className,\n      customRowComponent = _ref.customRowComponent,\n      items = _ref.items,\n      addComponentToDZ = _ref.addComponentToDZ,\n      targetUid = _ref.targetUid,\n      mainTypeName = _ref.mainTypeName,\n      editTarget = _ref.editTarget,\n      isFromDynamicZone = _ref.isFromDynamicZone,\n      isNestedInDZComponent = _ref.isNestedInDZComponent,\n      isMain = _ref.isMain,\n      firstLoopComponentName = _ref.firstLoopComponentName,\n      firstLoopComponentUid = _ref.firstLoopComponentUid,\n      secondLoopComponentName = _ref.secondLoopComponentName,\n      secondLoopComponentUid = _ref.secondLoopComponentUid,\n      isSub = _ref.isSub,\n      dzName = _ref.dzName;\n\n  var _useGlobalContext = (0, _strapiHelperPlugin.useGlobalContext)(),\n      formatMessage = _useGlobalContext.formatMessage,\n      emitEvent = _useGlobalContext.emitEvent;\n\n  var _useDataManager = (0, _useDataManager2[\"default\"])(),\n      isInDevelopmentMode = _useDataManager.isInDevelopmentMode,\n      modifiedData = _useDataManager.modifiedData;\n\n  var _useListView = (0, _useListView2[\"default\"])(),\n      openModalAddField = _useListView.openModalAddField;\n\n  var onClickAddField = function onClickAddField() {\n    emitEvent('hasClickedCTBAddFieldBanner');\n    var firstComponentIcon = (0, _lodash.get)(modifiedData, ['components', firstLoopComponentUid, 'schema', 'icon'], '');\n    var firstComponentCategory = (0, _lodash.get)(modifiedData, ['components', firstLoopComponentUid, 'category'], null);\n    var firstComponentFriendlyName = (0, _lodash.get)(modifiedData, ['components', firstLoopComponentUid, 'schema', 'name'], null);\n    var secondComponentCategory = (0, _lodash.get)(modifiedData, ['components', secondLoopComponentUid, 'category'], null);\n    var secondComponentFriendlyName = (0, _lodash.get)(modifiedData, ['components', secondLoopComponentUid, 'schema', 'name'], null);\n    var secondComponentIcon = (0, _lodash.get)(modifiedData, ['components', secondLoopComponentUid, 'schema', 'icon'], '');\n    var headerIconName1 = editTarget === 'contentType' ? (0, _lodash.get)(modifiedData, ['contentType', 'schema', 'kind'], null) : editTarget;\n    var firstHeaderObject = {\n      header_label_1: mainTypeName,\n      header_icon_name_1: headerIconName1,\n      header_icon_isCustom_1: false,\n      header_info_category_1: null,\n      header_info_name_1: null\n    };\n    var secondHeaderObject = {\n      header_label_2: firstLoopComponentName,\n      header_icon_name_2: 'component',\n      header_icon_isCustom_2: false,\n      header_info_category_2: firstComponentCategory,\n      header_info_name_2: firstComponentFriendlyName\n    };\n    var thirdHeaderObject = {\n      header_icon_name_3: 'component',\n      header_icon_isCustom_3: false,\n      header_info_category_3: secondComponentCategory,\n      header_info_name_3: secondComponentFriendlyName\n    };\n    var fourthHeaderObject = {\n      header_icon_name_4: null,\n      header_icon_isCustom_4: false,\n      header_info_category_4: secondComponentCategory,\n      header_info_name_4: secondComponentFriendlyName\n    };\n\n    if (firstLoopComponentName) {\n      firstHeaderObject = _objectSpread(_objectSpread({}, firstHeaderObject), {}, {\n        header_icon_name_1: firstComponentIcon,\n        header_icon_isCustom_1: true\n      });\n    }\n\n    if (secondLoopComponentUid) {\n      firstHeaderObject = _objectSpread(_objectSpread({}, firstHeaderObject), {}, {\n        header_icon_name_1: secondComponentIcon,\n        header_icon_isCustom_1: true\n      });\n      thirdHeaderObject = _objectSpread(_objectSpread({}, thirdHeaderObject), {}, {\n        header_label_3: secondLoopComponentName\n      });\n    }\n\n    if (isFromDynamicZone || isNestedInDZComponent) {\n      secondHeaderObject = _objectSpread(_objectSpread({}, secondHeaderObject), {}, {\n        header_label_2: dzName,\n        header_icon_name_2: 'dynamiczone',\n        header_icon_isCustom_2: false,\n        header_info_category_2: null,\n        header_info_name_2: null\n      });\n      thirdHeaderObject = _objectSpread(_objectSpread({}, thirdHeaderObject), {}, {\n        header_icon_name_3: isNestedInDZComponent ? 'component' : null,\n        header_label_3: firstLoopComponentName,\n        header_info_category_3: firstComponentCategory,\n        header_info_name_3: firstComponentFriendlyName\n      });\n      fourthHeaderObject = _objectSpread(_objectSpread({}, fourthHeaderObject), {}, {\n        header_label_4: secondLoopComponentName\n      });\n    }\n\n    openModalAddField(editTarget, targetUid, firstHeaderObject, secondHeaderObject, thirdHeaderObject, fourthHeaderObject);\n  };\n  /* eslint-disable indent */\n\n\n  var addButtonProps = {\n    icon: !isSub ? /*#__PURE__*/_react[\"default\"].createElement(_icons.Plus, {\n      fill: \"#007eff\",\n      width: \"11px\",\n      height: \"11px\"\n    }) : false,\n    color: 'primary',\n    label: isInDevelopmentMode ? formatMessage({\n      id: !isSub ? \"\".concat(_pluginId[\"default\"], \".form.button.add.field.to.\").concat(modifiedData.contentType ? modifiedData.contentType.schema.kind : editTarget || 'collectionType') : \"\".concat(_pluginId[\"default\"], \".form.button.add.field.to.component\"),\n      defaultMessage: 'Add another field'\n    }) : null,\n    onClick: onClickAddField\n  };\n  /* eslint-enable indent */\n\n  if (!targetUid) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_List[\"default\"], {\n    className: className,\n    isFromDynamicZone: isFromDynamicZone\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"table\", null, /*#__PURE__*/_react[\"default\"].createElement(\"tbody\", null, items.map(function (item) {\n    var type = item.type;\n    var CustomRow = customRowComponent;\n    return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, {\n      key: item.name\n    }, /*#__PURE__*/_react[\"default\"].createElement(CustomRow, (0, _extends2[\"default\"])({}, item, {\n      dzName: dzName,\n      isNestedInDZComponent: isNestedInDZComponent,\n      targetUid: targetUid,\n      mainTypeName: mainTypeName,\n      editTarget: editTarget,\n      firstLoopComponentName: firstLoopComponentName,\n      firstLoopComponentUid: firstLoopComponentUid,\n      isFromDynamicZone: isFromDynamicZone,\n      secondLoopComponentName: secondLoopComponentName,\n      secondLoopComponentUid: secondLoopComponentUid\n    })), type === 'component' && /*#__PURE__*/_react[\"default\"].createElement(_ComponentList[\"default\"], (0, _extends2[\"default\"])({}, item, {\n      customRowComponent: customRowComponent,\n      targetUid: targetUid,\n      dzName: dzName,\n      isNestedInDZComponent: isFromDynamicZone,\n      mainTypeName: mainTypeName,\n      editTarget: editTarget,\n      firstLoopComponentName: firstLoopComponentName,\n      firstLoopComponentUid: firstLoopComponentUid\n    })), type === 'dynamiczone' && /*#__PURE__*/_react[\"default\"].createElement(_DynamicZoneList[\"default\"], (0, _extends2[\"default\"])({}, item, {\n      customRowComponent: customRowComponent,\n      addComponent: addComponentToDZ,\n      targetUid: targetUid,\n      mainTypeName: mainTypeName\n    })));\n  }))), isMain && isInDevelopmentMode && /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.ListButton, null, /*#__PURE__*/_react[\"default\"].createElement(_core.Button, addButtonProps)), !isMain && /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.ListButton, null, /*#__PURE__*/_react[\"default\"].createElement(_core.Button, addButtonProps))), isSub && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"plus-icon\",\n    onClick: onClickAddField\n  }, isInDevelopmentMode && /*#__PURE__*/_react[\"default\"].createElement(_icons.Plus, {\n    fill: isFromDynamicZone ? '#007EFF' : '#b4b6ba'\n  })));\n}\n\nList.defaultProps = {\n  addComponentToDZ: function addComponentToDZ() {},\n  className: null,\n  customRowComponent: null,\n  dzName: null,\n  firstLoopComponentName: null,\n  firstLoopComponentUid: null,\n  isFromDynamicZone: false,\n  isNestedInDZComponent: false,\n  isMain: false,\n  isSub: false,\n  items: [],\n  secondLoopComponentName: null,\n  secondLoopComponentUid: null,\n  targetUid: null\n};\nList.propTypes = {\n  addComponentToDZ: _propTypes[\"default\"].func,\n  className: _propTypes[\"default\"].string,\n  customRowComponent: _propTypes[\"default\"].func,\n  dzName: _propTypes[\"default\"].string,\n  editTarget: _propTypes[\"default\"].string.isRequired,\n  firstLoopComponentName: _propTypes[\"default\"].string,\n  firstLoopComponentUid: _propTypes[\"default\"].string,\n  isFromDynamicZone: _propTypes[\"default\"].bool,\n  isNestedInDZComponent: _propTypes[\"default\"].bool,\n  isMain: _propTypes[\"default\"].bool,\n  items: _propTypes[\"default\"].instanceOf(Array),\n  mainTypeName: _propTypes[\"default\"].string.isRequired,\n  secondLoopComponentName: _propTypes[\"default\"].string,\n  secondLoopComponentUid: _propTypes[\"default\"].string,\n  targetUid: _propTypes[\"default\"].string,\n  isSub: _propTypes[\"default\"].bool\n};\nvar _default = List;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/zenack/Trabajo/Strapi-concept/.cache/plugins/strapi-plugin-content-type-builder/admin/src/components/List/index.js"],"names":["List","className","customRowComponent","items","addComponentToDZ","targetUid","mainTypeName","editTarget","isFromDynamicZone","isNestedInDZComponent","isMain","firstLoopComponentName","firstLoopComponentUid","secondLoopComponentName","secondLoopComponentUid","isSub","dzName","formatMessage","emitEvent","isInDevelopmentMode","modifiedData","openModalAddField","onClickAddField","firstComponentIcon","firstComponentCategory","firstComponentFriendlyName","secondComponentCategory","secondComponentFriendlyName","secondComponentIcon","headerIconName1","firstHeaderObject","header_label_1","header_icon_name_1","header_icon_isCustom_1","header_info_category_1","header_info_name_1","secondHeaderObject","header_label_2","header_icon_name_2","header_icon_isCustom_2","header_info_category_2","header_info_name_2","thirdHeaderObject","header_icon_name_3","header_icon_isCustom_3","header_info_category_3","header_info_name_3","fourthHeaderObject","header_icon_name_4","header_icon_isCustom_4","header_info_category_4","header_info_name_4","header_label_3","header_label_4","addButtonProps","icon","color","label","id","pluginId","contentType","schema","kind","defaultMessage","onClick","map","item","type","CustomRow","name","defaultProps","propTypes","PropTypes","func","string","isRequired","bool","instanceOf","Array"],"mappings":"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","sourcesContent":["/**\n *\n * List\n *\n */\n\n/* eslint-disable import/no-cycle */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { useGlobalContext, ListButton } from 'strapi-helper-plugin';\nimport { Button } from '@buffetjs/core';\nimport { Plus } from '@buffetjs/icons';\n\nimport pluginId from '../../pluginId';\nimport useListView from '../../hooks/useListView';\nimport useDataManager from '../../hooks/useDataManager';\nimport DynamicZoneList from '../DynamicZoneList';\nimport ComponentList from '../ComponentList';\nimport Wrapper from './List';\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nfunction List({\n  className,\n  customRowComponent,\n  items,\n  addComponentToDZ,\n  targetUid,\n  mainTypeName,\n  editTarget,\n  isFromDynamicZone,\n  isNestedInDZComponent,\n  isMain,\n  firstLoopComponentName,\n  firstLoopComponentUid,\n  secondLoopComponentName,\n  secondLoopComponentUid,\n  isSub,\n  dzName,\n}) {\n  const { formatMessage, emitEvent } = useGlobalContext();\n  const { isInDevelopmentMode, modifiedData } = useDataManager();\n  const { openModalAddField } = useListView();\n  const onClickAddField = () => {\n    emitEvent('hasClickedCTBAddFieldBanner');\n    const firstComponentIcon = get(\n      modifiedData,\n      ['components', firstLoopComponentUid, 'schema', 'icon'],\n      ''\n    );\n    const firstComponentCategory = get(\n      modifiedData,\n      ['components', firstLoopComponentUid, 'category'],\n      null\n    );\n    const firstComponentFriendlyName = get(\n      modifiedData,\n      ['components', firstLoopComponentUid, 'schema', 'name'],\n      null\n    );\n    const secondComponentCategory = get(\n      modifiedData,\n      ['components', secondLoopComponentUid, 'category'],\n      null\n    );\n    const secondComponentFriendlyName = get(\n      modifiedData,\n      ['components', secondLoopComponentUid, 'schema', 'name'],\n      null\n    );\n    const secondComponentIcon = get(\n      modifiedData,\n      ['components', secondLoopComponentUid, 'schema', 'icon'],\n      ''\n    );\n    const headerIconName1 =\n      editTarget === 'contentType'\n        ? get(modifiedData, ['contentType', 'schema', 'kind'], null)\n        : editTarget;\n\n    let firstHeaderObject = {\n      header_label_1: mainTypeName,\n      header_icon_name_1: headerIconName1,\n      header_icon_isCustom_1: false,\n      header_info_category_1: null,\n      header_info_name_1: null,\n    };\n    let secondHeaderObject = {\n      header_label_2: firstLoopComponentName,\n      header_icon_name_2: 'component',\n      header_icon_isCustom_2: false,\n      header_info_category_2: firstComponentCategory,\n      header_info_name_2: firstComponentFriendlyName,\n    };\n    let thirdHeaderObject = {\n      header_icon_name_3: 'component',\n      header_icon_isCustom_3: false,\n      header_info_category_3: secondComponentCategory,\n      header_info_name_3: secondComponentFriendlyName,\n    };\n    let fourthHeaderObject = {\n      header_icon_name_4: null,\n      header_icon_isCustom_4: false,\n      header_info_category_4: secondComponentCategory,\n      header_info_name_4: secondComponentFriendlyName,\n    };\n\n    if (firstLoopComponentName) {\n      firstHeaderObject = {\n        ...firstHeaderObject,\n        header_icon_name_1: firstComponentIcon,\n        header_icon_isCustom_1: true,\n      };\n    }\n\n    if (secondLoopComponentUid) {\n      firstHeaderObject = {\n        ...firstHeaderObject,\n        header_icon_name_1: secondComponentIcon,\n        header_icon_isCustom_1: true,\n      };\n      thirdHeaderObject = {\n        ...thirdHeaderObject,\n        header_label_3: secondLoopComponentName,\n      };\n    }\n\n    if (isFromDynamicZone || isNestedInDZComponent) {\n      secondHeaderObject = {\n        ...secondHeaderObject,\n        header_label_2: dzName,\n        header_icon_name_2: 'dynamiczone',\n        header_icon_isCustom_2: false,\n        header_info_category_2: null,\n        header_info_name_2: null,\n      };\n      thirdHeaderObject = {\n        ...thirdHeaderObject,\n        header_icon_name_3: isNestedInDZComponent ? 'component' : null,\n        header_label_3: firstLoopComponentName,\n        header_info_category_3: firstComponentCategory,\n        header_info_name_3: firstComponentFriendlyName,\n      };\n      fourthHeaderObject = {\n        ...fourthHeaderObject,\n        header_label_4: secondLoopComponentName,\n      };\n    }\n\n    openModalAddField(\n      editTarget,\n      targetUid,\n      firstHeaderObject,\n      secondHeaderObject,\n      thirdHeaderObject,\n      fourthHeaderObject\n    );\n  };\n\n  /* eslint-disable indent */\n  const addButtonProps = {\n    icon: !isSub ? <Plus fill=\"#007eff\" width=\"11px\" height=\"11px\" /> : false,\n    color: 'primary',\n    label: isInDevelopmentMode\n      ? formatMessage({\n          id: !isSub\n            ? `${pluginId}.form.button.add.field.to.${\n                modifiedData.contentType\n                  ? modifiedData.contentType.schema.kind\n                  : editTarget || 'collectionType'\n              }`\n            : `${pluginId}.form.button.add.field.to.component`,\n          defaultMessage: 'Add another field',\n        })\n      : null,\n    onClick: onClickAddField,\n  };\n  /* eslint-enable indent */\n\n  if (!targetUid) {\n    return null;\n  }\n\n  return (\n    <>\n      <Wrapper className={className} isFromDynamicZone={isFromDynamicZone}>\n        <table>\n          <tbody>\n            {items.map(item => {\n              const { type } = item;\n              const CustomRow = customRowComponent;\n\n              return (\n                <React.Fragment key={item.name}>\n                  <CustomRow\n                    {...item}\n                    dzName={dzName}\n                    isNestedInDZComponent={isNestedInDZComponent}\n                    targetUid={targetUid}\n                    mainTypeName={mainTypeName}\n                    editTarget={editTarget}\n                    firstLoopComponentName={firstLoopComponentName}\n                    firstLoopComponentUid={firstLoopComponentUid}\n                    isFromDynamicZone={isFromDynamicZone}\n                    secondLoopComponentName={secondLoopComponentName}\n                    secondLoopComponentUid={secondLoopComponentUid}\n                  />\n\n                  {type === 'component' && (\n                    <ComponentList\n                      {...item}\n                      customRowComponent={customRowComponent}\n                      targetUid={targetUid}\n                      dzName={dzName}\n                      isNestedInDZComponent={isFromDynamicZone}\n                      mainTypeName={mainTypeName}\n                      editTarget={editTarget}\n                      firstLoopComponentName={firstLoopComponentName}\n                      firstLoopComponentUid={firstLoopComponentUid}\n                    />\n                  )}\n\n                  {type === 'dynamiczone' && (\n                    <DynamicZoneList\n                      {...item}\n                      customRowComponent={customRowComponent}\n                      addComponent={addComponentToDZ}\n                      targetUid={targetUid}\n                      mainTypeName={mainTypeName}\n                    />\n                  )}\n                </React.Fragment>\n              );\n            })}\n          </tbody>\n        </table>\n        {isMain && isInDevelopmentMode && (\n          <ListButton>\n            <Button {...addButtonProps} />\n          </ListButton>\n        )}\n        {!isMain && (\n          <ListButton>\n            <Button {...addButtonProps} />\n          </ListButton>\n        )}\n      </Wrapper>\n      {isSub && (\n        <div className=\"plus-icon\" onClick={onClickAddField}>\n          {isInDevelopmentMode && <Plus fill={isFromDynamicZone ? '#007EFF' : '#b4b6ba'} />}\n        </div>\n      )}\n    </>\n  );\n}\n\nList.defaultProps = {\n  addComponentToDZ: () => {},\n  className: null,\n  customRowComponent: null,\n  dzName: null,\n  firstLoopComponentName: null,\n  firstLoopComponentUid: null,\n  isFromDynamicZone: false,\n  isNestedInDZComponent: false,\n  isMain: false,\n  isSub: false,\n  items: [],\n  secondLoopComponentName: null,\n  secondLoopComponentUid: null,\n  targetUid: null,\n};\n\nList.propTypes = {\n  addComponentToDZ: PropTypes.func,\n  className: PropTypes.string,\n  customRowComponent: PropTypes.func,\n  dzName: PropTypes.string,\n  editTarget: PropTypes.string.isRequired,\n  firstLoopComponentName: PropTypes.string,\n  firstLoopComponentUid: PropTypes.string,\n  isFromDynamicZone: PropTypes.bool,\n  isNestedInDZComponent: PropTypes.bool,\n  isMain: PropTypes.bool,\n  items: PropTypes.instanceOf(Array),\n  mainTypeName: PropTypes.string.isRequired,\n  secondLoopComponentName: PropTypes.string,\n  secondLoopComponentUid: PropTypes.string,\n  targetUid: PropTypes.string,\n  isSub: PropTypes.bool,\n};\n\nexport default List;\n"]},"metadata":{},"sourceType":"script"}